<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Science Project Coding Standards</title>
  <meta name="description" content="Data Science Project Coding Standards">
  <meta name="generator" content="bookdown 0.3.16 and GitBook 2.6.7">

  <meta property="og:title" content="Data Science Project Coding Standards" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="datasciencecampus/coding-standards" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Science Project Coding Standards" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="r.html">
<link rel="next" href="other-languages.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #2a211c; color: #bdae9d; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #2a211c; color: #bdae9d; border-right: 1px solid #bdae9d; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #bdae9d; background-color: #2a211c; }
code > span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code > span.dt { text-decoration: underline; } /* DataType */
code > span.dv { color: #44aa43; } /* DecVal */
code > span.bn { color: #44aa43; } /* BaseN */
code > span.fl { color: #44aa43; } /* Float */
code > span.ch { color: #049b0a; } /* Char */
code > span.st { color: #049b0a; } /* String */
code > span.co { color: #0066ff; font-style: italic; } /* Comment */
code > span.al { color: #ffff00; } /* Alert */
code > span.fu { color: #ff9358; font-weight: bold; } /* Function */
code > span.er { color: #ffff00; font-weight: bold; } /* Error */
code > span.wa { color: #ffff00; font-weight: bold; } /* Warning */
code > span.cn { } /* Constant */
code > span.sc { color: #049b0a; } /* SpecialChar */
code > span.vs { color: #049b0a; } /* VerbatimString */
code > span.ss { color: #049b0a; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #0066ff; font-style: italic; } /* Documentation */
code > span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code > span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code > span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="rsrc\style\custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DSC Coding Standards</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>1</b> R</a><ul>
<li class="chapter" data-level="1.1" data-path="r.html"><a href="r.html#style"><i class="fa fa-check"></i><b>1.1</b> Programming Styles</a></li>
<li class="chapter" data-level="1.2" data-path="r.html"><a href="r.html#tools"><i class="fa fa-check"></i><b>1.2</b> Tools</a></li>
<li class="chapter" data-level="1.3" data-path="r.html"><a href="r.html#docs-r"><i class="fa fa-check"></i><b>1.3</b> Documentating Code</a></li>
<li class="chapter" data-level="1.4" data-path="r.html"><a href="r.html#tests-r"><i class="fa fa-check"></i><b>1.4</b> Testing</a></li>
<li class="chapter" data-level="1.5" data-path="r.html"><a href="r.html#coverage-r"><i class="fa fa-check"></i><b>1.5</b> Code Coverage</a></li>
<li class="chapter" data-level="1.6" data-path="r.html"><a href="r.html#package-r"><i class="fa fa-check"></i><b>1.6</b> Code Packaging</a></li>
<li class="chapter" data-level="1.7" data-path="r.html"><a href="r.html#deps-r"><i class="fa fa-check"></i><b>1.7</b> Dependency Management</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="python.html"><a href="python.html"><i class="fa fa-check"></i><b>2</b> Python</a><ul>
<li class="chapter" data-level="2.1" data-path="python.html"><a href="python.html#style-guide"><i class="fa fa-check"></i><b>2.1</b> Style guide</a></li>
<li class="chapter" data-level="2.2" data-path="python.html"><a href="python.html#package-management"><i class="fa fa-check"></i><b>2.2</b> Package Management</a><ul>
<li class="chapter" data-level="2.2.1" data-path="python.html"><a href="python.html#choosing-a-container"><i class="fa fa-check"></i><b>2.2.1</b> Choosing a container</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="other-languages.html"><a href="other-languages.html"><i class="fa fa-check"></i><b>3</b> Other Languages</a><ul>
<li class="chapter" data-level="3.1" data-path="other-languages.html"><a href="other-languages.html#haskell"><i class="fa fa-check"></i><b>3.1</b> Haskell</a></li>
<li class="chapter" data-level="3.2" data-path="other-languages.html"><a href="other-languages.html#java"><i class="fa fa-check"></i><b>3.2</b> Java</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>4</b> Version Control</a><ul>
<li class="chapter" data-level="4.1" data-path="version-control.html"><a href="version-control.html#name-conventions"><i class="fa fa-check"></i><b>4.1</b> Name conventions</a></li>
<li class="chapter" data-level="4.2" data-path="version-control.html"><a href="version-control.html#commit-best-practices"><i class="fa fa-check"></i><b>4.2</b> Commit best practices</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="packaging-projects.html"><a href="packaging-projects.html"><i class="fa fa-check"></i><b>5</b> Packaging projects</a></li>
<li class="chapter" data-level="6" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>6</b> Resources</a><ul>
<li class="chapter" data-level="6.1" data-path="resources.html"><a href="resources.html#setting-up-your-mac"><i class="fa fa-check"></i><b>6.1</b> Setting up your Mac</a></li>
<li class="chapter" data-level="6.2" data-path="resources.html"><a href="resources.html#online-learning-materials"><i class="fa fa-check"></i><b>6.2</b> Online Learning Materials</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/datasciencecampus/coding-standards" target="blank">Source on GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Project Coding Standards</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="python" class="section level1">
<h1><span class="header-section-number">2</span> Python</h1>
<p>The below are the most immediate features that your code should have. The recommendations in <a href="http://www.effectivepython.com">Effective Python</a> give a more in-depth idea of how to write good python code and align with our recommendations.</p>
<div id="style-guide" class="section level2">
<h2><span class="header-section-number">2.1</span> Style guide</h2>
<p>The following sections outline conditions on python code produced for sharing.</p>
<div id="spacing-1" class="section level4 unnumbered">
<h4>Spacing</h4>
<p>Tabs are illegal. All indentation should be in spaces and each level of indent should be either 2 or 4 spaces, but constant throughout the project at either 2 or 4.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> numpy <span class="im">as</span> np


<span class="co"># Good</span>
<span class="kw">def</span> main():
  <span class="co">&quot;&quot;&quot;</span>
<span class="co">    This is my docstring</span>
<span class="co">    There are many others like it</span>
<span class="co">    But this one is mine</span>
<span class="co">  &quot;&quot;&quot;</span>
  <span class="kw">def</span> third_eye(n):
    <span class="cf">return</span> <span class="dv">3</span> <span class="op">*</span> np.eye(n)
 
 
<span class="co"># Bad</span>
<span class="kw">def</span> main():
  <span class="co">&quot;&quot;&quot;</span>
<span class="co">    This is my docstring</span>
<span class="co">    There are many others like it</span>
<span class="co">    But this one is mine</span>
<span class="co">  &quot;&quot;&quot;</span>
  <span class="kw">def</span> third_eye(n):
      <span class="cf">return</span> <span class="dv">3</span> <span class="op">*</span> np.eye(n)</code></pre></div>
</div>
<div id="line-length-1" class="section level4 unnumbered">
<h4>Line length</h4>
<p>No lines should exceed 80 characters. If you find yourself running out of room on a line then it might be a good sign that you need to write a function.</p>
</div>
<div id="blank-lines" class="section level4 unnumbered">
<h4>Blank lines</h4>
<ul>
<li><strong>1 line</strong>: There should be one line between blocks of code, the exceptions are where two lines are recommended.</li>
<li><strong>2 lines</strong>: Start and end of function definitions, import blocks, headers, and class definitions should have 2 lines clearning them.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co"># Good</span>
<span class="im">import</span> os
      
      
<span class="kw">class</span> Goober(<span class="bu">object</span>):
  <span class="co">&quot;&quot;&quot;|</span>
<span class="co">    docstrings are good</span>
<span class="co">    docstrings are great</span>
<span class="co">  &quot;&quot;&quot;</span>
  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):
    <span class="cf">pass</span>
    
 
<span class="kw">def</span> main():
  <span class="cf">pass</span>
  
<span class="co"># Bad</span>
<span class="im">import</span> os
<span class="kw">class</span> Goober(<span class="bu">object</span>):
  <span class="co">&quot;&quot;&quot;|</span>
<span class="co">    docstrings are good</span>
<span class="co">    docstrings are great</span>
<span class="co">  &quot;&quot;&quot;</span>
  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):
    <span class="cf">pass</span>
    
<span class="kw">def</span> main():
  <span class="cf">pass</span></code></pre></div>
</div>
<div id="data-declarations" class="section level4 unnumbered">
<h4>Data declarations</h4>
<p>Elements must align, either in leading or following comma notation. Some examples:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">list_1 <span class="op">=</span> [
  elem_1,
  elem_2,
  elem_3
]


list_2 <span class="op">=</span> [ elem_1
         , elem_2
         , elem_3
         ] </code></pre></div>
</div>
<div id="list-comprehensions" class="section level4 unnumbered">
<h4>List comprehensions</h4>
<p>There should be no more than 2 statements included in any list comprehension. If the comprehension is exceeding this length then break it out into a loop or multiple statements. It might make sense to you now but when somebody else comes to read it they will hate you if you don’t.</p>
</div>
<div id="exceptions" class="section level4 unnumbered">
<h4>Exceptions</h4>
<p>Do not raise base exceptions. Create your own classes which extend them and manage your errors in a meaningful way.</p>
</div>
<div id="imports" class="section level4 unnumbered">
<h4>Imports</h4>
<p>Imports should be grouped, at the top of your file and placed in the following order.</p>
<ol style="list-style-type: decimal">
<li>standard library imports</li>
<li>related third party imports</li>
<li>local application/library specific imports</li>
</ol>
<p>Put a blank line between each group of imports and include a comment to show the group. The imports in each group should be sorted alphabetically, by module name. Try to avoid <code>from foo import *</code> unless you can be absolutely certain that there are no clashes in the namespace. It may be more suitable to give your module a short alias, such as <code>import pandas as pd</code>.</p>
</div>
<div id="type-hinting" class="section level4 unnumbered">
<h4>Type hinting</h4>
<p>Where possible use <a href="https://docs.python.org/3/library/typing.html">type hinting</a> as per<a href="https://www.python.org/dev/peps/pep-0484/">PEP484</a>. It will make your code more verbose as well as easier to debug and handle.</p>
</div>
</div>
<div id="package-management" class="section level2">
<h2><span class="header-section-number">2.2</span> Package Management</h2>
<p>Programs should be packages using one of two methods. First is the python solution <a href="https://python-guide-pt-br.readthedocs.io/en/latest/dev/virtualenvs/">virtualenv</a> which allows you to bundle a python executable and all of the needed packages with your program or through the use of docker which facilitates a wider use case and means you do not need to handle exceptions caused by windows and linux libraries and executables not being available on the system.</p>
<div id="choosing-a-container" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Choosing a container</h3>
<p>What virtualenv does is simple, it copies your system python installation and supporting packages to the project root directory and then updates the python paths (when you run <code>activate.sh</code>) to point to this version. You are then free to <code>pip install</code> to your heart’s content without making global changes. Whilst this allows you to localise your python packages it does not incorporate outside dependencies. If you need a running LAMP server, redis, spark or some other external tool you need to add them into your project. You essentially end up polluting your environment with project-specific dependencies. This is <em>not</em> optimal for large projects with database back ends or heavier dependencies and docker should be used.</p>
<p>Docker allows you to run a virtual machine in a single thread. This allows you to pre-bundle all of the requirements you have into a single image which can be activated and allow all dependencies to be mimicked on a larger system scale. It leads to a fewer <em>dependency spaghetti</em> issues because you can also use system software management tools such as <a href="https://brew.sh">brew</a> to install things into your images.</p>
<p>Docker is also suitable in the use case where virtualenv is a good choice. As such docker is the recommended solution for packaging up python projects. However, it is still quite a young tool and there may be a few kinks that have you falling back on your old, faithful virtualenv. Use your judgement as to which is best in your given situation and easiest to share. Docker is preferred but is not required.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="other-languages.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
