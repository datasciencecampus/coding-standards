---
output: html_document
---

We must be careful when looping in R. Let us say that we have a function that produces a vector which we loop over. Now let us say that somewhere within our function, something went wrong and that vector has become `NULL` or something similarly unexpected such as `numeric()`.

```{r}
x <- NULL
```

What happens if we loop over this vector using `1:length(x)`?

```{r}
for (i in 1:length(x)) {
  print(i)
}
```

We see here that `length(x)` is 0 (which we would expect since `x` is `NULL`) but this could potentially be unexpected behaviour in our function. We must watch for any `0` or negative values if we are indexing on a vector or dataframe, etc. Rather than using `1:length(x)`, we can use the `seq_along()` function:

```{r}
for (i in seq_along(x)) {
  print(i)
}
```

We see here that nothing actually happens. This is because `i` does not exist.

```{r}
seq_along(x)
```

Another example would be if we were looping over a dataframe. Let's say we have an empty dataframe.

```{r}
df <- data.frame(a = numeric(), b = numeric())
df
```

In this instance, we need to use the `seq_len()` function.

```{r}
for (i in seq_len(nrow(df))) {
  print(i) # doesn't print anything
}
```

```{r}
df <- data.frame(a = 1:3, b = 4:6)
for (i in seq_len(nrow(df))) {
  print(i)
}
```