<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Science Project Coding Standards</title>
  <meta name="description" content="Data Science Project Coding Standards">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Data Science Project Coding Standards" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="datasciencecampus/coding-standards" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Science Project Coding Standards" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="other-languages.html">
<link rel="next" href="packaging-projects.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #2a211c; color: #bdae9d; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #2a211c; color: #bdae9d; border-right: 1px solid #bdae9d; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #bdae9d; background-color: #2a211c; }
code > span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code > span.dt { text-decoration: underline; } /* DataType */
code > span.dv { color: #44aa43; } /* DecVal */
code > span.bn { color: #44aa43; } /* BaseN */
code > span.fl { color: #44aa43; } /* Float */
code > span.ch { color: #049b0a; } /* Char */
code > span.st { color: #049b0a; } /* String */
code > span.co { color: #0066ff; font-style: italic; } /* Comment */
code > span.al { color: #ffff00; } /* Alert */
code > span.fu { color: #ff9358; font-weight: bold; } /* Function */
code > span.er { color: #ffff00; font-weight: bold; } /* Error */
code > span.wa { color: #ffff00; font-weight: bold; } /* Warning */
code > span.cn { } /* Constant */
code > span.sc { color: #049b0a; } /* SpecialChar */
code > span.vs { color: #049b0a; } /* VerbatimString */
code > span.ss { color: #049b0a; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #0066ff; font-style: italic; } /* Documentation */
code > span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code > span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code > span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="rsrc/style/custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DSC Coding Standards</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>1</b> R</a><ul>
<li class="chapter" data-level="1.1" data-path="r.html"><a href="r.html#style"><i class="fa fa-check"></i><b>1.1</b> Programming Styles</a></li>
<li class="chapter" data-level="1.2" data-path="r.html"><a href="r.html#tools"><i class="fa fa-check"></i><b>1.2</b> Tools</a></li>
<li class="chapter" data-level="1.3" data-path="r.html"><a href="r.html#docs-r"><i class="fa fa-check"></i><b>1.3</b> Documentating Code</a></li>
<li class="chapter" data-level="1.4" data-path="r.html"><a href="r.html#tests-r"><i class="fa fa-check"></i><b>1.4</b> Testing</a></li>
<li class="chapter" data-level="1.5" data-path="r.html"><a href="r.html#coverage-r"><i class="fa fa-check"></i><b>1.5</b> Code Coverage</a></li>
<li class="chapter" data-level="1.6" data-path="r.html"><a href="r.html#package-r"><i class="fa fa-check"></i><b>1.6</b> Code Packaging</a></li>
<li class="chapter" data-level="1.7" data-path="r.html"><a href="r.html#deps-r"><i class="fa fa-check"></i><b>1.7</b> Dependency Management</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="python.html"><a href="python.html"><i class="fa fa-check"></i><b>2</b> Python</a><ul>
<li class="chapter" data-level="2.1" data-path="python.html"><a href="python.html#style-guide"><i class="fa fa-check"></i><b>2.1</b> Style guide</a></li>
<li class="chapter" data-level="2.2" data-path="python.html"><a href="python.html#package-management"><i class="fa fa-check"></i><b>2.2</b> Package Management</a><ul>
<li class="chapter" data-level="2.2.1" data-path="python.html"><a href="python.html#choosing-a-container"><i class="fa fa-check"></i><b>2.2.1</b> Choosing a container</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="other-languages.html"><a href="other-languages.html"><i class="fa fa-check"></i><b>3</b> Other Languages</a><ul>
<li class="chapter" data-level="3.1" data-path="other-languages.html"><a href="other-languages.html#haskell"><i class="fa fa-check"></i><b>3.1</b> Haskell</a></li>
<li class="chapter" data-level="3.2" data-path="other-languages.html"><a href="other-languages.html#scala"><i class="fa fa-check"></i><b>3.2</b> Scala</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>4</b> Version Control</a><ul>
<li class="chapter" data-level="4.1" data-path="version-control.html"><a href="version-control.html#git-style-guide"><i class="fa fa-check"></i><b>4.1</b> Git style guide</a><ul>
<li class="chapter" data-level="4.1.1" data-path="version-control.html"><a href="version-control.html#repository-names"><i class="fa fa-check"></i><b>4.1.1</b> Repository names</a></li>
<li class="chapter" data-level="4.1.2" data-path="version-control.html"><a href="version-control.html#commit-best-practices"><i class="fa fa-check"></i><b>4.1.2</b> Commit best practices</a></li>
<li class="chapter" data-level="4.1.3" data-path="version-control.html"><a href="version-control.html#commit-frequency"><i class="fa fa-check"></i><b>4.1.3</b> Commit frequency</a></li>
<li class="chapter" data-level="4.1.4" data-path="version-control.html"><a href="version-control.html#commit-message"><i class="fa fa-check"></i><b>4.1.4</b> Commit message</a></li>
<li class="chapter" data-level="4.1.5" data-path="version-control.html"><a href="version-control.html#tag-names"><i class="fa fa-check"></i><b>4.1.5</b> Tag names</a></li>
<li class="chapter" data-level="4.1.6" data-path="version-control.html"><a href="version-control.html#branch-size"><i class="fa fa-check"></i><b>4.1.6</b> Branch size</a></li>
<li class="chapter" data-level="4.1.7" data-path="version-control.html"><a href="version-control.html#branch-names"><i class="fa fa-check"></i><b>4.1.7</b> Branch names</a></li>
<li class="chapter" data-level="4.1.8" data-path="version-control.html"><a href="version-control.html#workflow-practices"><i class="fa fa-check"></i><b>4.1.8</b> Workflow practices</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="version-control.html"><a href="version-control.html#references"><i class="fa fa-check"></i><b>4.2</b> References</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="packaging-projects.html"><a href="packaging-projects.html"><i class="fa fa-check"></i><b>5</b> Packaging projects</a></li>
<li class="chapter" data-level="6" data-path="continuous-integration.html"><a href="continuous-integration.html"><i class="fa fa-check"></i><b>6</b> Continuous Integration</a></li>
<li class="chapter" data-level="7" data-path="licensing.html"><a href="licensing.html"><i class="fa fa-check"></i><b>7</b> Licensing</a></li>
<li class="chapter" data-level="8" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>8</b> Resources</a><ul>
<li class="chapter" data-level="8.1" data-path="resources.html"><a href="resources.html#setting-up-your-computer"><i class="fa fa-check"></i><b>8.1</b> Setting up your computer</a></li>
<li class="chapter" data-level="8.2" data-path="resources.html"><a href="resources.html#online-learning-materials"><i class="fa fa-check"></i><b>8.2</b> Online Learning Materials</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/datasciencecampus/coding-standards" target="blank">Source on GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Project Coding Standards</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="version-control" class="section level1">
<h1><span class="header-section-number">4</span> Version Control</h1>
<p>Few software engineering projects will begin without some form of version control and data science should be no different. Version control software allows us to track the three Ws: Who made Which change, and Why? There are various different version control tools such as <a href="https://git-scm.com/">Git</a>, <a href="https://subversion.apache.org/">SVN</a> and <a href="https://www.mercurial-scm.org/">Mercurial</a>.</p>
<p>Git is a distributed version control system. It can be used locally on a single machine, on many networked machines or connected to many online repository services such as <a href="https://github.com/">GitHub</a>, <a href="https://about.gitlab.com/">GitLab</a> and <a href="https://bitbucket.org/">BitBucket</a>. Each of these services provides hosting for remote clones of your repository, and makes the code open and easy to share with the world, or if necessary, private and shared with your team only. Government have several GitHub organisation accounts including the <a href="https://github.com/datasciencecampus">Data Science Campus</a>, <a href="https://github.com/ONSdigital">Office for National Statistics</a> and a more general <a href="https://github.com/ukgovdatascience">UK Government</a> account which allow us to use private repositories; please speak to another member of staff about getting help in joining the organisation.</p>
<div id="git-style-guide" class="section level2">
<h2><span class="header-section-number">4.1</span> Git style guide</h2>
<p>Following a few stylistic guidelines makes it easier for your collaborators to understand the history of changes to the repository. Please try to adopt them or be ready to justify why you chose a different approach.</p>
<p>Sticking to these standards will make it much easier to work with others. For example, if two people have changed the same file in the same place, it’ll be easier to resolve conflicts if the commits are small and it’s clear why each change was made and project newcomers can more easily understand the history by reading the commit logs. More importantly, if you can figure out exactly when a bug was introduced, you can easily understand what you were doing (and why!). Some really good advice is:</p>
<blockquote>
<p>You might think that because no one else will ever look at your repo, that writing good commit messages is not worth the effort. But keep in mind that you have one very important collaborator: future-you! If you spend a little time now polishing your commit messages, future-you will thank you if and when they need to do a post-mortem on a bug. – <a href="http://r-pkgs.had.co.nz/git.html#commit-best-practices">Hadley Wickham</a></p>
</blockquote>
<div id="repository-names" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Repository names</h3>
<p>All repository names should follow the <code>kebab-case</code> naming convention and be in lower case.</p>
</div>
<div id="commit-best-practices" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Commit best practices</h3>
<p>Ideally, each commit should be minimal but complete. They should aim to solve a single specific problem with your code. This makes commits that you make much easier to understand but it also makes it easier to undo commits should you make an error.</p>
</div>
<div id="commit-frequency" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Commit frequency</h3>
<p>You should commit very often.</p>
<p>Leaving all changes to be committed at the end of the day is a <em>bad</em> idea as rather than being able to undo a single issue, you may lose an entire day’s work to solve your problem. When you think you have solved a bug, it is always a good idea to include a <a href="r.html#tests-r">test</a> to confirm you are correct.</p>
<div class="figure" style="text-align: center"><span id="fig:gitCommit"></span>
<img src="rsrc/img/git_commit.png" alt="Try to keep git commit messages as informative as possible" width="80%" />
<p class="caption">
Figure 4.1: Try to keep git commit messages as informative as possible
</p>
</div>
<p>When you want to merge your branch to a public one, it’s a good practice to review your commit messages and <em>reword</em> those that are not clear enough, re-order those that need more clarity and <em>squash</em> those commits that should be one.</p>
<p>Make use of <code>git rebase --interactive</code>, remember <a href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History">it</a> allows you to, among other things, reword, re-order and squash commits.</p>
</div>
<div id="commit-message" class="section level3">
<h3><span class="header-section-number">4.1.4</span> Commit message</h3>
<p>A good commit message briefly summarises the <em>what</em> for scanning purposes, but the important part is that it includes the <em>why</em> you’ve introduced the change. If the <em>what</em> in the message isn’t enough, the <code>diff</code> is there as a fallback, however, this isn’t true for the <em>why</em>.</p>
<p>Each commit message consists of a <strong>header</strong>, a <strong>body</strong> and a <strong>footer</strong>. The header has a special format that includes a <strong>type</strong> and a <strong>subject</strong>:</p>
<pre><code>&lt;type&gt;: &lt;subject&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;</code></pre>
<p>The first line: <em>type</em> and <em>subject</em> are mandatory, whereas <em>body</em> and <em>footer</em> are optional. Note that the <em>BLANK LINES</em> are mandatory if <em>body</em> or <em>footer</em> are present.</p>
<p>Any line of the commit message cannot be longer than 80 characters! This allows the message to be easier to read on github as well as in various git tools.</p>
<div id="type" class="section level4">
<h4><span class="header-section-number">4.1.4.1</span> <code>type</code></h4>
<p>Must be one of the following:</p>
<ul>
<li><strong>feat</strong>: A new feature</li>
<li><strong>fix</strong>: A bug fix</li>
<li><strong>doc</strong>: Documentation only changes</li>
<li><strong>style</strong>: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)</li>
<li><strong>refactor</strong>: A code change that neither fixes a bug or adds a feature</li>
<li><strong>perf</strong>: A code change that improves performance</li>
<li><strong>test</strong>: Adding missing tests</li>
<li><strong>chore</strong>: Changes to the build process or auxiliary tools and libraries such as documentation generation</li>
</ul>
<p>Do not capitalise the first letter.</p>
</div>
<div id="subject" class="section level4">
<h4><span class="header-section-number">4.1.4.2</span> <code>subject</code></h4>
<p>The subject contains succinct description of the change:</p>
<ul>
<li>use the imperative, present tense: “Change” not “Changed” nor “Changes”</li>
<li>do capitalise first letter</li>
<li>no dot (.) at the end</li>
</ul>
</div>
<div id="body" class="section level4">
<h4><span class="header-section-number">4.1.4.3</span> <code>body</code></h4>
<p>Just as in the <strong>subject</strong>, use the imperative, present tense: “change” not “changed” nor “changes”</p>
<p>The body should include the motivation for the change and contrast this with previous behavior.</p>
</div>
<div id="footer" class="section level4">
<h4><span class="header-section-number">4.1.4.4</span> <code>footer</code></h4>
<p>The footer should contain any information about <strong>Breaking Changes</strong> and is also the place to reference GitHub issues that this commit <strong>Closes</strong>.</p>
<p><strong>Breaking Changes</strong> are detected as such if the footer contains a line starting with BREAKING CHANGE: (with optional newlines) The rest of the commit message is then used for this.</p>
<p>This commit message structure was mostly taken from <a href="https://github.com/angular/angular.js/blob/master/CONTRIBUTING.md#commit">here</a>.</p>
</div>
</div>
<div id="tag-names" class="section level3">
<h3><span class="header-section-number">4.1.5</span> Tag names</h3>
<p>We will follow the <a href="http://semver.org">SemVer</a> versioning convention:</p>
<blockquote>
<p>Given a version number MAJOR.MINOR.PATCH, increment the:</p>
<p>MAJOR version when you make incompatible API changes, MINOR version when you add functionality in a backwards-compatible manner, and PATCH version when you make backwards-compatible bug fixes.</p>
<p>Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format.</p>
</blockquote>
</div>
<div id="branch-size" class="section level3">
<h3><span class="header-section-number">4.1.6</span> Branch size</h3>
<p>Branches (other than master and development) must be short and as much as possible they should have a single purpose.</p>
</div>
<div id="branch-names" class="section level3">
<h3><span class="header-section-number">4.1.7</span> Branch names</h3>
<p>The name of the branch should refer to its purpose.</p>
<p>Specify one of the following types:</p>
<ul>
<li>feat</li>
<li>fix</li>
<li>… (to be expanded)</li>
</ul>
<p>This should then be followed by either a clear reason for the branch or, if the branch refers to an issue, mention the issue number on the name, e.g. <code>bug-52</code>.</p>
<p>Do not include your name on the branch name (that’s already recored by Git).</p>
<p>All branch names should follow the <code>kebab-case</code> naming convention and be all in lower case.</p>
</div>
<div id="workflow-practices" class="section level3">
<h3><span class="header-section-number">4.1.8</span> Workflow practices</h3>
<p>Before merging your feature branch to a public branch (e.g. <em>master</em>) always <code>rebase</code> your code to the latest version of the public branch and solve the conflicts locally.</p>
<p><code>merge</code> must be <code>--no-ff</code> as this with the previous guideline improve readability.</p>
<p>Remove the remote feature branch after merging (e.g. <code>git push origin :feature</code>).</p>
<p>Keep any destructive actions local. The most common destructive actions are: <em>merge</em> and <em>rebase</em>.</p>
</div>
</div>
<div id="references" class="section level2">
<h2><span class="header-section-number">4.2</span> References</h2>
<p><a href="https://github.com/alphagov/styleguides/blob/master/git.md" class="uri">https://github.com/alphagov/styleguides/blob/master/git.md</a></p>
<p><a href="https://github.com/conventional-changelog/conventional-changelog/blob/a5505865ff3dd710cf757f50530e73ef0ca641da/conventions/angular.md" class="uri">https://github.com/conventional-changelog/conventional-changelog/blob/a5505865ff3dd710cf757f50530e73ef0ca641da/conventions/angular.md</a></p>
<p><a href="https://robots.thoughtbot.com/5-useful-tips-for-a-better-commit-message" class="uri">https://robots.thoughtbot.com/5-useful-tips-for-a-better-commit-message</a></p>
<p><a href="https://github.com/torvalds/linux/pull/17#issuecomment-5659933" class="uri">https://github.com/torvalds/linux/pull/17#issuecomment-5659933</a></p>
<p><a href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html" class="uri">http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html</a></p>
<p><a href="http://semver.org" class="uri">http://semver.org</a></p>
<p><a href="https://git-scm.com/book/ch5-2.html" class="uri">https://git-scm.com/book/ch5-2.html</a></p>
<p><a href="https://dev.to/rpalo/plan-your-commits" class="uri">https://dev.to/rpalo/plan-your-commits</a></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="other-languages.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="packaging-projects.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
